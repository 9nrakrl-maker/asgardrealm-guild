<div class="container" align="center">

  <h2>{{ guildName }}</h2>

  <div class="filter-bar">
    <!-- search name -->
    <div class="filter-item">
      <span class="icon">üîç</span>
      <input align="center"
        type="text"
        placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£"
        [(ngModel)]="search"
      />
    </div>
    <br>
    <!-- date picker -->
    <div class="filter-item">
      <span class="icon">üìÖ</span>
      <input align="center"
        type="date"
        [(ngModel)]="selectedDate"
        (change)="onDateChange()"
      />
    </div>
  </div>

  <br>

  <table align="center">
    <thead>
      <tr>
        <th>No.</th>
        <th>Character</th>
        <th>Job</th>
        <th>Level</th>
        <th>EXP Today (%)</th>
        <th>EXP Yesterday (%)</th>
        <th>Difference</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let c of filteredAndSortedList(); let i = index"
        class="char-row"
        [ngClass]="{ 'level-up': isLevelUpToday(c.name) }"
        (click)="openCharModal(c.name)">

        <td align="center">{{ i + 1 }}</td>

        <td align="center">
          <img [src]="c.img" width="80" /><br />
          <b>{{ c.name }}</b>
        </td>

        <td align="center">{{ c.job }}</td>

        <td align="center">
          Lv. {{ c.level }}
          <span *ngIf="isLevelUpToday(c.name)" class="level-up-badge">‚ñ≤</span>
        </td>

        <td align="center">{{ expToday(c.name) }}%</td>
        <td align="center">{{ expYesterday(c.name) }}%</td>
        <td align="center">{{ diffExpPercent(c.name) }}%</td>
      </tr>
    </tbody>
  </table>
</div>

  <!-- ü™ü Modal -->
  <app-history-modal
    *ngIf="showModal"
    [name]="selectedChar"
    [history]="historyCache"
    (close)="closeModal()">
  </app-history-modal>